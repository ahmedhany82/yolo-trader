{"version":3,"sources":["services/auth.js","Components/Navbar.js","Components/SearchResults.js","Components/Searchbar.js","Components/Portfolio.js","Components/PieChart.js","Components/MostActive.js","services/order.js","Components/NewsHomePage.js","Components/Home.js","Components/Signup.js","Components/Login.js","Components/News.js","Components/OrderDetails.js","Components/StockInfo.js","Components/StockDetails.js","App.js","reportWebVitals.js","index.js"],"names":["signup","username","password","console","log","axios","post","then","response","data","catch","err","login","handleLogout","props","delete","setUser","Navbar","user","className","style","backgroundColor","width","color","textDecoration","to","height","onClick","SearchResults","tickersList","tickers","map","ticker","index","position","zIndex","length","Searchbar","state","query","handleSearch","event","target","value","setState","get","process","bestMatches","marginBottom","autoComplete","htmlFor","marginLeft","type","name","id","this","placeholder","onChange","React","Component","Portfolio","n","toFixed","portfolioList","portfolio","element","count","symbolsPrice","formattedValue","formatCash","change","averagePrice","absoluteChange","Math","abs","profitloss","scope","textAlign","PieChart","chartRef","createRef","myChartRef","undefined","current","getContext","labels","Object","keys","valueArray","sum","reduce","a","b","colorsArray","floor","random","myChart","Chart","datasets","options","responsive","maintainAspectRatio","legend","fontColor","fontSize","ref","MostActive","mostactive","role","activeList","symbol","companyName","latestPrice","changePercent","placeOrder","price","orderType","userId","res","balancefromDB","JSON","parse","balance","updatedPrice","updatedCount","pos","getPortfolio","NewsHomePage","news","_id","portfoliofromDB","symbols","json","slice","newsList","article","Width","src","image","alt","href","url","rel","headline","whiteSpace","textOverflow","display","overflow","summary","Home","join","symbolsPriceMap","formattedBalance","listStyleType","class","Signup","message","handleChange","handleSubmit","preventDefault","history","push","weight","onSubmit","Login","News","flag","OrderDetails","limit","number","handleFormInput","Number","handleOrder","closeMenue","callback","aria-label","step","min","disabled","StockInfo","adjustedMarketCap","marketCap","previousClose","week52Low","peRatio","week52High","ytdChange","StockDetails","match","params","latestTime","avgTotalVolume","chartRange","displayOrderComponent","handleChartChange","range","chartUpdate","handleClose","dates","chart","date","prices","close","maxYValue","max","destroy","label","borderColor","hover","mode","intersect","scales","xAxes","ticks","yAxes","suggestedMax","gridLines","paddingTop","paddingLeft","marginRight","App","minHeight","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.bdd0bf5c.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst signup = (username, password) => {\n  console.log(\"signup in client was called\")\n  return axios.post('/api/auth/signup', { username, password }).then(response => {\n      return response.data\n    })\n    .catch(err => {\n      console.log(\"error on signup\", err);\n      return err.response.data\n    })\n}\n\nconst login = (username, password) => {\n  console.log(\"login was called\")\n  return axios.post('/api/auth/login', { username, password }).then(response => {\n    console.log(\"response: \", response.data)\n      return response.data\n    })\n    .catch(err => {\n      console.log(err)\n      return err.response.data\n    })\n}\n\nconst logout = () => {\n  return axios.delete('/api/auth/logout').then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data\n    })\n}\n\nexport { signup, login, logout };","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { logout } from '../services/auth';\n\nconst handleLogout = props => {\n  logout().then(() => {\n    props.setUser(null)\n  })\n}\n\n// export default function Navbar(props) {\n//   return (\n//     <div className=\"navbar navbar-dark bg-primary mb-3\">\n//       <div className=\"container-fluid\">\n//         {props.user ? (\n//             <div style={{width: '100%'}} className=\"nav-item d-flex flex-row justify-content-between\" >\n//                 <Link className='navbar-text' style={{color: 'white', textDecoration: 'none'}} to='/'>Home</Link>\n//                 <h1 className=\"navbar-brand\" style={{height: '1vh'}}>Yolo Trader</h1>\n//                 <Link className='navbar-text' style={{color: 'white', textDecoration: 'none'}} to='/' onClick={() => handleLogout(props)} >Logout</Link>\n//             </div>\n//           ) : (\n//               <div>\n//                   <Link to='/signup'>Signup</Link>\n//                   <Link to='/login'>Login</Link>\n//               </div>\n//             )}\n//       </div>\n//     </div>\n//   )\n// }\n\nexport default function Navbar(props) {\n  return (\n      <nav >\n        {props.user ? (\n          <div className=\"navbar navbar-light\" style={{backgroundColor: \"#9b9fb0\"}}>\n            <div style={{width: '100%'}} className=\"nav-item d-flex flex-row justify-content-between\" >\n                <Link className='navbar-text' style={{color: 'white', textDecoration: 'none'}} to='/'>Home</Link>\n                {/* <h1 className=\"navbar-brand\" style={{height: '1vh', color: 'white'}}>Yolo Trader</h1> */}\n                <span className=\"navbar-brand h1\" style={{height: '1vh', color: 'white'}}>Yolo Trader</span>\n                <Link className='navbar-text' style={{color: 'white', textDecoration: 'none'}} to='/' onClick={() => handleLogout(props)} >Logout</Link>\n            </div>\n          </div>\n          ) : (\n              <>\n              </>\n            )}\n    </nav>\n  )\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function SearchResults(props) {\n\n\n  let tickersList = props.tickers? props.tickers.map((ticker,index) => {\n      return (\n          <div key={index}>\n            <Link to={`/symbols/${ticker['1. symbol']}`} ><p style={{color: 'white'}}>{ticker['1. symbol']}</p></Link>\n            <p style={{color: \"grey\"}}>{ticker['2. name']}</p>\n          </div>\n        )\n      }) : []; \n\n  return (\n    <div className=\"ml-4 border border-5\" style={{position: 'absolute', zIndex: '2', backgroundColor: '#434756'}}>\n          {props.tickers && (props.tickers.length !== 0) ? (\n            <>\n              {tickersList}\n            </>\n            ) : \n            (\n              <>\n              </>\n            )}\n    </div>\n  )\n}\n\n","import React from 'react';\nimport SearchResults from \"./SearchResults\";\nimport axios from 'axios';\n\nexport default class Searchbar extends React.Component {\n\n  state = {\n    query: '',\n    tickers: []\n  }\n\n  handleSearch = event => {\n    const query = event.target.value;\n    this.setState({\n        query: query\n    })\n    axios.get(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${query}&apikey=${process.env.REACT_APP_ALPHAVANTAGE_KEY}`).then(response => {\n      this.setState({\n          tickers: response.data.bestMatches\n          })      \n    }).catch(err => {\n        console.log(err)\n    })\n    // console.log(process.env.ALPHAVANTAGE_KEY)\n    // axios.get(`https://finnhub.io/api/v1/search?q=${query}&token=${process.env.FINNHUB_KEY}`, { json: true },).then((err, res, body) => {\n    //   if (err) { return console.log(err); }\n    //   console.log(body.url);\n    //   console.log(body.explanation);\n    // })\n  }\n\n\n  render() {\n      // let tickersList = this.state.tickers.map(ticker => {\n      //   return (\n      //     <div>\n      //       <Link to={`/symbols/${ticker['1. symbol']}`} ><p>{ticker['1. symbol']}</p></Link>\n      //       {/* <p>{ticker['1. symbol']}</p> */}\n      //       <p style={{color: \"grey\"}}>{ticker['2. name']}</p>\n      //     </div>\n      //   )\n      // })  \n    return (\n      <div>\n        <form style={{width:'100%', marginBottom: '50px'}} autoComplete=\"off\">\n          <div className=\"form-group\">\n              <label className=\"ml-3\" htmlFor=\"search\"></label>\n              <input className=\"form-control\" style={{width:'90%', height: '25px', marginLeft: '20px', backgroundColor:'lightgrey'}}\n                type=\"text\"\n                name=\"search\"\n                id=\"search\"\n                value={this.state.query}\n                placeholder=\"Search by Symbol\"\n                onChange={this.handleSearch}\n              />\n              <SearchResults tickers={this.state.tickers}/>\n          </div>\n        </form>\n        \n          {/* <div>\n              {tickersList}\n          </div> */}\n    </div>\n    )\n\n  }\n}\n","\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\n\nexport default class Portfolio extends Component {\n\n \n  /* Reused from https://stackoverflow.com/a/55987576 */\n  formatCash(n) {\n    if (n < 1e3) return n;\n    if (n >= 1e3 && n < 1e6) return +(n / 1e3).toFixed(1) + \"K\";\n    if (n >= 1e6 && n < 1e9) return +(n / 1e6).toFixed(1) + \"M\";\n    if (n >= 1e9 && n < 1e12) return +(n / 1e9).toFixed(1) + \"B\";\n    if (n >= 1e12) return +(n / 1e12).toFixed(1) + \"T\";\n  }\n\n  render() {\n    const portfolioList = (this.props.portfolio && this.props.portfolio.length !== 0)? this.props.portfolio.map((element,index) => {\n      let value = (element.count * this.props.symbolsPrice[element.ticker]).toFixed(2);\n      let formattedValue = this.formatCash(value);\n      let change = (value - (element.count * element.averagePrice)).toFixed(2);\n      let absoluteChange = Math.abs(change);\n      let profitloss = (((value - (element.count * element.averagePrice))/(element.count * element.averagePrice)) *100).toFixed(2) ;\n      return (\n        <tr key={index}>\n          {/* <th scope=\"row\">{element.ticker}</th> */}\n          <th scope=\"row\"><Link to={`/symbols/${element.ticker}`}><p style={{color: 'white'}} className=\"fw-bolder\">{element.ticker}</p></Link></th>\n          <td style={{color: 'white'}}>{element.count}</td>\n          <td style={{color: 'white'}}>{this.props.symbolsPrice[element.ticker]}</td>\n          <td style={{color: 'white'}}>{formattedValue}</td>\n          <td style={(profitloss < 0)? {color: '#ff0000'}: {color: '#00ff00'}}><strong>{profitloss}%</strong></td>\n          <td style={(change < 0)? {color: '#ff0000'}: {color: '#00ff00'}}><strong>{change > 0? '+': '-'}{absoluteChange}</strong></td>\n        </tr>\n      )\n    }) : [];\n\n    return (\n      <div style={{width: \"45vw\", height: \"auto\"  }} className=\"ml-3 border p-3 border-white shadow p-3 mb-5 bg-body rounded\">\n        <h4 className=\"ml-3 mb-3\" style={{width: \"40vw\", position: 'relative', zIndex: '1'}}>Portfolio</h4>\n        <table style={{width: \"40vw\", position: 'relative', textAlign: 'center'}} className=\"table table-hover table-sm ml-3 \">\n            <thead>\n              <tr style={{color: 'white'}}>\n                <th scope=\"col\">Symbol</th>\n                <th scope=\"col\">Position</th>\n                <th scope=\"col\">Last Price</th>\n                <th scope=\"col\">Market Value($)</th>\n                <th scope=\"col\">Gain/Loss %</th>\n                <th scope=\"col\">Total Change</th>\n              </tr>\n            </thead>\n            <tbody>\n              {portfolioList}\n            </tbody>\n          </table>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport Chart from \"chart.js\";\n\nexport default class PieChart extends Component {\n\n  chartRef = React.createRef();\n\n  state = {\n    myChartRef: undefined,\n  }\n\n  componentDidMount() {\n    this.setState({\n      myChartRef: this.chartRef.current.getContext(\"2d\")\n    })\n  }\n\n  render() {\n    if(this.state.myChartRef && this.props.symbolsPrice && this.props.portfolio.length !== 0) \n    {\n      const labels = Object.keys(this.props.symbolsPrice);  \n      const valueArray = this.props.portfolio.map(element => {\n        return ((element.count) * this.props.symbolsPrice[element.ticker])\n      })\n      const sum = valueArray.reduce((a, b) => a + b, 0);\n      const data = valueArray.map(element => {\n        return ((element / sum)*100).toFixed(2);\n      })\n      let colorsArray = this.props.portfolio.map(element => {\n        let r = Math.floor(Math.random() * 200);\n        let g = Math.floor(Math.random() * 200);\n        let b = Math.floor(Math.random() * 200);\n        return('rgb(' + r + ', ' + g + ', ' + b + ')')\n      })\n      console.log(colorsArray)\n\n      this.state.myChart = new Chart(this.state.myChartRef, {\n        type: \"doughnut\",\n        data: {\n            datasets: [\n                {\n                  data: data,\n                  backgroundColor: colorsArray, \n                }\n            ],\n            labels: labels\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: true,\n          legend: {\n            labels: {\n              fontColor: \"white\",\n              fontSize: 18\n            }\n          }\n        }\n      });\n    }\n\n    return (\n      <div style={{width: \"45vw\", height: \"auto\"}} className=\"ml-3 mr-4 border p-3 border-white shadow p-3 mb-5 bg-body rounded\">\n        <h4 className='mb-3'>Portfolio Distribution %</h4>\n        <div>\n            <canvas style={{width: \"40vw\", height: \"23vh\"}} id=\"myChart\" ref={this.chartRef}/>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\n\nexport default class MostActive extends Component {\n\n  state={\n    mostactive:[]\n  }\n\n  componentDidMount() {\n    axios.get(`https://${process.env.REACT_APP_URL_KEY}.iexapis.com/stable/stock/market/list/iexvolume?listLimit=3&token=${process.env.REACT_APP_IEXTEST_KEY}`).then(response => {\n      this.setState({\n        mostactive: response.data\n      })\n    }).catch(err => {\n      console.log(err);\n    })\n  }\n\n\n  render() {\n    if(this.state.mostactive.length === 0) {\n      // return <h1>Loading...</h1>\n      return <div style={{height: \"35vh\"}} className=\"d-flex justify-content-center align-items-center\">\n        <div className=\"spinner-border text-info\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>      \n    }\n    const activeList = this.state.mostactive.map((element,index) => {\n      return (\n        <div key={index} className=\"d-flex flex-row justify-content-between alig-self-start ml-3 mr-3 pl-3 pr-3 pb-0 pt-0\">\n            <div className=\"d-flex flex-column justify-content-start align-self-center\">\n              <p style={{color: \"white\"}} className=\"mb-0\"><strong>{element.symbol}</strong></p>\n              <p style={{color: \"grey\"}}>{element.companyName}</p>\n            </div>\n            <div className=\"d-flex flex-column justify-content-start align-self-center\">\n              <p className=\"mb-0\">${(element.latestPrice != null)? element.latestPrice.toFixed(2): ' N/A'}</p>\n              <p style={(element.changePercent > 0)? {color: '#00ff00'}: {color: '#ff0000'}} ><strong>{(element.changePercent != null)? (element.changePercent > 0? '+': '-') : ''}{(element.changePercent !== null)? Math.abs(element.changePercent.toFixed(2)): `NA `}%</strong></p>              \n            </div>\n        </div>\n        )\n    })\n    return (\n      <div style={{width: \"45vw\", height: \"35vh\"}} className=\"ml-3 border p-3 border-white shadow p-3 mb-5 bg-body rounded\">\n        <h4 style={{color: \"white\"}}className=\"ml-3 mb-4\">Most Active</h4>\n        <div className=\"mb-0 pt-0 pb-0\">\n            {activeList}\n        </div>        \n      </div>\n    )\n  }\n}\n","import axios from 'axios';\n\nconst placeOrder = (price, count, orderType, userId, ticker) => {\n\n  /* Buy order */\n  if(orderType === \"buy\")\n  {\n    return axios.get(`/api/${userId}/balance`).then(res => {\n      const balancefromDB = res.data;\n      if(balancefromDB < (price * count) ) {\n        return JSON.parse('{\"message\": \"Order exceeds balance\"}')\n      } else {\n        const balance = balancefromDB - (price * count);\n        return axios.post(`/api/${userId}/balance`, {balance}).then(res => {\n          //Check if user has a position in the input stock\n          return axios.get(`/api/${userId}/position/${ticker}`).then(res => {\n            if(res.data.length === 0) {\n              //Open a new position\n              return axios.post(`/api/${userId}/position/open/${ticker}`, {count, averagePrice: price}).then(res => {\n                return(res.data);\n              })\n            } else {\n              //Update the existing position. Update the price to be average price taking current holdings into consideration\n              console.log(res.data[0].count)\n              let updatedPrice = ((res.data[0].count * res.data[0].averagePrice) + (price * count))/(res.data[0].count + count);\n              let updatedCount = res.data[0].count + count;\n              return axios.post(`/api/${userId}/position/update/${ticker}`, {count: updatedCount, averagePrice: updatedPrice}).then(res=> {\n                return(res.data);\n              })\n            }\n          }).catch(err => {\n            console.log(err);\n          })\n        }).catch(err => {\n          console.log(err);\n        })\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  } else {\n    /* Selling order */\n\n    //Check if user has a position in the input stock\n    return axios.get(`/api/${userId}/position/${ticker}`).then(pos => {\n      if(pos.data.length === 0) {\n          return JSON.parse('{\"message\": \"No open positions in this stock.\"}');\n        } else if(pos.data[0].count < count) {\n            return JSON.parse('{\"message\": \"Your current position is not enough for this order.\"}')\n          } else {\n            return axios.get(`/api/${userId}/balance`).then(res => {\n              const balancefromDB = res.data;\n              if(pos.data[0].count === count) {\n                //Update the balance and close current position\n                const balance = balancefromDB + (price * count);\n                return axios.post(`/api/${userId}/balance`, {balance}).then(res => {\n                    return axios.post(`/api/${userId}/position/close/${ticker}`).then(res => {\n                        return(res.data);\n                        }).catch(err => {\n                            console.log(err);\n                        })\n                }).catch(err => {\n                  console.log(err);\n                })\n              } else {\n                //Update the balance and existing position. Only stock count is updated.\n                let updatedCount = pos.data[0].count - count;\n                console.log(balancefromDB)\n                const balance = balancefromDB + (price * count);\n                \n                return axios.post(`/api/${userId}/balance`, {balance}).then(res => {\n                    return axios.post(`/api/${userId}/position/update/${ticker}`, {count: updatedCount, averagePrice: pos.data[0].averagePrice}).then(res=> {\n                      return(res.data);\n                    }).catch(err => {\n                      console.log(err);\n                    })\n                }).catch(err => {\n                  console.log(err);\n                })\n              }\n            }).catch(err => {\n              console.log(err);\n            })\n          }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n}\n\nconst getPortfolio = (userId) => {\n  return axios.get(`/api/${userId}/portfolio`).then(res => {\n    return(res.data);\n  }).catch(err => {\n    console.log(err);\n  })\n}\n\nconst getbalance = (userId) => {\n  return axios.get(`/api/${userId}/balance`).then(res => {\n    return(res.data);\n  }).catch(err => {\n    console.log(err);\n  })\n}\n\n\n\nexport { placeOrder, getPortfolio, getbalance};","import React, { Component } from 'react'\nimport { getPortfolio } from '../services/order';\nimport axios from 'axios'\n\nexport default class NewsHomePage extends Component {\n\n    state = {\n      news: []\n    }\n\n    componentDidMount() {      \n      if(this.props.user) {\n          getPortfolio(this.props.user._id).then(portfoliofromDB => {\n            const symbols = portfoliofromDB.map(element => {\n              return element.ticker;\n            })\n            if(symbols.length !== 0) {\n              const ticker = symbols[Math.floor(Math.random() * symbols.length)]\n              axios.get(`https://finnhub.io/api/v1/company-news?symbol=${ticker}&from=2021-03-08&to=2021-03-09&token=${process.env.REACT_APP_FINNHUB_KEY}`, { json: true }).then(res => {\n                  this.setState({\n                    news: res.data.slice(0,2)\n                  })\n                }).catch(err => {\n                  console.log(\"Error while fetching the news from API\", err);\n                });  \n            } else {\n              axios.get(`https://finnhub.io/api/v1/news?category=general&token=${process.env.REACT_APP_FINNHUB_KEY}`, { json: true }).then(res => {\n                this.setState({\n                  news: res.data.slice(0,2)\n                })\n              }).catch(err => {\n                console.log(\"Error while fetching the news from API\", err);\n              });\n            }\n          }).catch(err => {\n            console.log(err);\n          })\n        }  \n    }\n\n    // componentDidMount() {      \n    //   if(this.props.user) {\n    //       getPortfolio(this.props.user._id).then(portfoliofromDB => {\n    //         const symbols = portfoliofromDB.map(element => {\n    //           return element.ticker;\n    //         })\n    //         const ticker = symbols[Math.floor(Math.random() * symbols.length)]\n    //         axios.get(`https://finnhub.io/api/v1/company-news?symbol=${ticker}&from=2021-03-08&to=2021-03-09&token=${process.env.REACT_APP_FINNHUB_KEY}`, { json: true }).then(res => {\n    //             this.setState({\n    //               news: res.data.slice(0,2)\n    //             })\n    //           }).catch(err => {\n    //             console.log(\"Error while fetching the news from API\", err);\n    //           });\n    //       }).catch(err => {\n    //         console.log(err);\n    //       })\n    //     }\n    // }\n\n  render() {\n      if(this.state.news.length === 0) {\n        return <div style={{height: \"35vh\"}} className=\"d-flex justify-content-center align-items-center\">\n        <div className=\"spinner-border text-info\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n      }\n      let newsList = this.state.news.map((article,index) => {\n        return (\n          <div key={index}>\n              {/* <div style={{maxWidth: '30vw'}} className=\"d-flex flex-row justify-content-start\"> */}\n              <div style={{Width: '30vw'}} className=\"d-flex flex-row justify-content-start\">\n                  <img style={{height: \"8vh\", width: \"8vw\"}} className=\" mr-2\" src={article.image} alt=\"\"/>\n                  <div className=\"d-flex flex-column justify-content-center align-self-center\">\n                      <a href={article.url} target=\"_blank\" rel=\"noreferrer\"><h5 style={{color: 'lightblue'}}>{article.headline}</h5></a>\n                      {/* <p>{article.source}</p> */}\n                      <span style={{\n                        whiteSpace: \"nowrap\",\n                        textOverflow: \"ellipsis\",\n                        width: \"29vw\",\n                        height: \"8vh\",\n                        display: \"block\",\n                        overflow: \"hidden\"\n                      }}>{article.summary}</span>\n                  </div>\n              </div>\n          </div>\n          )\n      })\n      return (\n        <div style={{width: \"45vw\", height: \"35vh\"}} className=\"ml-3 border p-3 border-white shadow p-3 mb-5 bg-body rounded\">\n          <h4 className=\"mb-3\">Portfolio News</h4>\n          <div>\n            {newsList}\n          </div>\n        </div>\n      )\n  }\n}\n\n\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Searchbar from './Searchbar';\nimport Portfolio from './Portfolio';\nimport PieChart from './PieChart';\nimport MostActive from './MostActive';\nimport NewsHomePage from './NewsHomePage';\n\nimport { getPortfolio, getbalance } from '../services/order';\nimport axios from 'axios';\n\nexport default class Home extends Component {\n\n  state = {\n    portfolio: [],\n    symbolsPrice: {},\n    balance: 0\n  }\n\n  /* Reused from https://stackoverflow.com/a/55987576 */\n  formatCash(n) {\n    if (n < 1e3) return n;\n    if (n >= 1e3 && n < 1e6) return +(n / 1e3).toFixed(1) + \"K\";\n    if (n >= 1e6 && n < 1e9) return +(n / 1e6).toFixed(1) + \"M\";\n    if (n >= 1e9 && n < 1e12) return +(n / 1e9).toFixed(1) + \"B\";\n    if (n >= 1e12) return +(n / 1e12).toFixed(1) + \"T\";\n  }\n\n  componentDidMount() {      \n    if(this.props.user) {\n        getPortfolio(this.props.user._id).then(portfoliofromDB => {\n          const symbols = portfoliofromDB.map(element => {\n            return element.ticker;\n          })      \n          axios.get(`https://${process.env.REACT_APP_URL_KEY}.iexapis.com/stable/stock/market/batch?symbols=${symbols.join(',')}&types=quote&filter=latestPrice&token=${process.env.REACT_APP_IEXTEST_KEY}`).then(res => {\n            const symbolsPriceMap = {}\n            for(let ticker in res.data) {\n              symbolsPriceMap[ticker] = res.data[ticker]['quote']['latestPrice'].toFixed(2);\n            }\n            this.setState({\n              symbolsPrice: symbolsPriceMap,\n            })\n          }).catch(err => {\n            console.log(err);\n          });\n          \n          this.setState({\n            portfolio: portfoliofromDB,\n          })\n        }).catch(err => {\n          console.log(err);\n        })\n\n        getbalance(this.props.user._id).then(res => {\n          this.setState({\n            balance: res\n          })\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n  }\n\n\n  render() {\n    let formattedBalance = this.formatCash(this.state.balance);\n    return (\n      <div className=\"container-fluid pl-0 pr-0\" style={{backgroundColor: '#434756'}}>\n        {this.props.user ? (\n          <div style={{backgroundColor: '#434756', color: 'white'}}>  \n            <div className=\"row\">\n              <div className=\"col\">\n                <div className=\"d-flex flex-row justify-content-between align-items-center ml-1 mr-2\">\n                  <h3 className=\"ml-3 mt-3\">Welcome {this.props.user.username}</h3>\n                  <h4 className=\"mr-3 mt-3\">Balance: ${formattedBalance}</h4>\n                </div>\n                <Searchbar user={this.props.user}/>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                <Portfolio user={this.props.user} portfolio={this.state.portfolio} symbolsPrice={this.state.symbolsPrice}/>\n              </div>           \n              <div className=\"col d-flex flex-row justify-content-start align-items-stretch\">\n                <PieChart user={this.props.user} portfolio={this.state.portfolio} symbolsPrice={this.state.symbolsPrice}/>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                <MostActive/>\n              </div>           \n              <div className=\"col\">\n                <NewsHomePage user={this.props.user}/>\n              </div>\n            </div>            \n          </div>\n        ) : (\n            <div style={{height: '100%', backgroundColor: '#434756'}} className=\"d-flex flex-row justify-content-between align-items-center\">\n              <div style={{height: '35vh', width: '50vw'}} className=\"d-flex flex-column justify-content-center align-items-center\">\n                  <div style={{height: '100%', width: '40vw'}} className=\"d-flex flex-column justify-content-around\"> \n                      <div style={{color: 'white'}}>\n                        <h1 className=\"display-4 fw-bolder\">YOLO Trader</h1>\n                        <h3 className=\"fw-bolder mb-5 ml-2\">You Only Live Once! If rich, once is enough.</h3>\n                      </div>\n                      <div style={{width: '20vw', listStyleType: 'none'}} className=\"d-flex flex-row justify-content-between align-items-center\">\n                        {/* <li style={{\n                            textAlign: 'center',\n                            width: '6vw',\n                            height: '8vh',\n                            backgroundColor: 'rgb(203 235 232 / 94%)',\n                            borderRadius: '25px',\n                            flexDirection: 'column',\n                            padding: '20px',\n                            margin: '17px',\n                        }}>\n                          <Link to='/signup'>Signup</Link>\n                        </li>\n                        <li style={{\n                            textAlign: 'center',\n                            width: '6vw',\n                            height: '8vh',\n                            backgroundColor: 'rgb(203 235 232 / 94%)',\n                            borderRadius: '25px',\n                            flexDirection: 'column',\n                            padding: '20px',\n                            margin: '17px',\n                        }}>\n                          <Link to='/login'>Login</Link>\n                        </li> */}\n                        <button className=\"btn btn-light mt-3 ml-2\" style={{backgroundColor: '#9b9fb0', width: '8vw', height: '5vh'}}><Link to='/signup'><strong style={{color: \"white\"}}>Signup</strong></Link></button>\n                        <button className=\"btn btn-light mt-3 ml-2\" style={{backgroundColor: '#9b9fb0', width: '8vw', height: '5vh'}} ><Link to='/login'><strong style={{color: \"white\"}}>Login</strong></Link></button>\n                      </div>\n                  </div>\n              </div>\n              <div style={{height: '100vh', width: '50vw', backgroundColor: '#9b9fb0'}} className=\"d-flex flex-column justify-content-center align-items-center\">\n                <div  className=\"text-center\">\n                  <img className=\"mx-auto\" style={{height: '80vh', width: '40vw'}} src=\"https://images.unsplash.com/photo-1612010167102-d1e8f83833e1?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80\" class=\"img-fluid\" alt=\"...\"></img>\n                </div>\n              </div>\n            </div>\n          )}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { signup } from '../services/auth';\n\nexport default class Signup extends Component {\n\n  state = {\n    username: '',\n    password: '',\n    message: ''\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    signup(username, password)\n      .then(user => {\n        if (user.message) {\n          this.setState({\n            message: user.message,\n            username: '',\n            password: ''\n          })\n        } else {\n          // the response from the server is a user object -> signup was successful\n          // we want to put the user object in the state of App.js\n          console.log(user)\n          this.props.setUser(user);\n          this.props.history.push('/');\n        }\n      })\n  }\n\n  render() {\n    return (\n      <div style={{backgroundColor: '#434756', height: \"100vh\"}} className=\"d-flex flex-column justify-content-center align-items-center\">\n        <div style={{height: '42vh', weight: '30vw'}} className=\"d-flex flex-column justify-content-between\">\n        <h2 style={{color: 'white'}}>Signup</h2>\n        <form onSubmit={this.handleSubmit} style={{height: '80%'}}>\n        <div style={{height: '100%'}}className=\"form-group d-flex flex-column justify-content-around\">\n            <div>\n              <label className=\"form-label\" htmlFor=\"username\"><span style={{color: 'white'}}>Username:</span> </label>\n              <input className=\"form-control\"\n                type=\"text\"\n                name=\"username\"\n                value={this.state.username}\n                onChange={this.handleChange}\n                id=\"username\"\n              />              \n            </div>\n            <div>\n              <label className=\"form-label\" htmlFor=\"password\"><span style={{color: 'white'}}>Password:</span></label>\n              <input className=\"form-control\"\n                type=\"password\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.handleChange}\n                id=\"password\"\n              />\n            </div>\n            <div>\n              <button className=\"btn btn-light mt-4 mb-3\" type=\"submit\">Sign Up</button>\n              {this.state.message && (\n                <h4 style={{color: 'white'}}>{this.state.message}</h4>\n              )}\n            </div>\n        </div>\n        </form>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { login } from '../services/auth';\n\nexport default class Login extends Component {\n\n  state = {\n    username: '',\n    password: '',\n    message: ''\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    login(username, password)\n      .then(user => {\n        if (user.message) {\n          this.setState({\n            message: user.message,\n            username: '',\n            password: ''\n          })\n        } else {\n          // the response from the server is a user object -> signup was successful\n          // we want to put the user object in the state of App.js\n          console.log(user)\n          this.props.setUser(user);\n          this.props.history.push('/');\n        }\n      })\n  }\n  render() {\n    return (\n      // <div>\n      //   <h2>Login</h2>\n      //   <form onSubmit={this.handleSubmit}>\n      //     <label htmlFor=\"username\">Username: </label>\n      //     <input\n      //       type=\"text\"\n      //       name=\"username\"\n      //       value={this.state.username}\n      //       onChange={this.handleChange}\n      //       id=\"username\"\n      //     />\n      //     <label htmlFor=\"password\">Password: </label>\n      //     <input\n      //       type=\"password\"\n      //       name=\"password\"\n      //       value={this.state.password}\n      //       onChange={this.handleChange}\n      //       id=\"password\"\n      //     />\n      //     <button type=\"submit\">Log in</button>\n      //     {this.state.message && (\n      //       <h3>{this.state.message}</h3>\n      //     )}\n      //   </form>\n      // </div>\n      <div style={{backgroundColor: '#434756', height: \"100vh\"}} className=\"d-flex flex-column justify-content-center align-items-center\">\n        <div style={{height: '42vh', weight: '30vw'}} className=\"d-flex flex-column justify-content-between\">\n        <h2 style={{color: 'white'}}>Login</h2>\n        <form onSubmit={this.handleSubmit} style={{height: '80%'}}>\n        <div style={{height: '100%'}}className=\"form-group d-flex flex-column justify-content-around\">\n            <div>\n              <label className=\"form-label\" htmlFor=\"username\"><span style={{color: 'white'}}>Username:</span> </label>\n              <input className=\"form-control\"\n                type=\"text\"\n                name=\"username\"\n                value={this.state.username}\n                onChange={this.handleChange}\n                id=\"username\"\n              />              \n            </div>\n            <div>\n              <label className=\"form-label\" htmlFor=\"password\"><span style={{color: 'white'}}>Password:</span></label>\n              <input className=\"form-control\"\n                type=\"password\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.handleChange}\n                id=\"password\"\n              />\n            </div>\n            <div>\n              <button className=\"btn btn-light mt-4 mb-3\" type=\"submit\">Log in</button>\n              {this.state.message && (\n                <h4 style={{color: 'white'}}>{this.state.message}</h4>\n              )}\n            </div>\n        </div>\n        </form>\n        </div>\n      </div>      \n    )\n  }\n}","import React, { Component } from 'react'\nimport axios from 'axios'\n\n\nexport default class News extends Component {\n\n  state = {\n    news: []\n  }\n\n  componentDidMount() {\n    const ticker = this.props.ticker;\n    // axios.get(`https://${process.env.REACT_APP_URL_KEY}.iexapis.com/stable/stock/${ticker}/news/last/3?token=${process.env.REACT_APP_IEXTEST_KEY}`).then(response => {\n    //   this.setState({\n    //     news: response.data\n    //   })\n    // }).catch(err => {\n    //   console.log(\"Error while fetching the news from API\", err);\n    // });\n    axios.get(`https://finnhub.io/api/v1/company-news?symbol=${ticker}&from=2021-03-08&to=2021-03-09&token=${process.env.REACT_APP_FINNHUB_KEY}`, { json: true }).then(res => {\n        this.setState({\n          news: res.data.slice(0,3)\n        })\n      }).catch(err => {\n        console.log(\"Error while fetching the news from API\", err);\n      });\n  }\n\n  render() {\n    if(this.props.flag) {\n      if(this.state.news.length === 0) {\n        //return <h1>Loading...</h1>\n        return <div style={{height: \"30vh\"}} className=\"d-flex justify-content-center align-items-center\">\n        <div className=\"spinner-border text-info\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n        </div> \n      }\n      let newsList = this.state.news.map((article,index) => {\n        return (\n          <div key={index} className=\"mt-3 mb-3\">\n              {/* <div style={{maxWidth: '30vw'}} className=\"d-flex flex-row justify-content-start\"> */}\n              <div style={{width: '28vw', color: 'white'}} className=\"d-flex flex-row justify-content-start\">\n                  <img style={{height: \"8vh\", width: \"8vw\"}} className=\"ml-5 mr-2\" src={article.image} alt=\"\"/>\n                  <div className=\"d-flex flex-column justify-content-center align-self-center\">\n                      <a href={article.url} target=\"_blank\" rel=\"noreferrer\"><h5 style={{color: 'lightblue'}}>{article.headline}</h5></a>\n                      {/* <p>{article.source}</p> */}\n                      <span style={{\n                        whiteSpace: \"nowrap\",\n                        textOverflow: \"ellipsis\",\n                        width: \"15vw\",\n                        height: \"8vh\",\n                        display: \"block\",\n                        overflow: \"hidden\"\n                      }}>{article.summary}</span>\n                  </div>\n              </div>\n          </div>\n          )\n      })\n      return (\n        <div>\n          <h3 style={{color: 'white'}} className=\"ml-5 mt-3\">News</h3>\n          <div>\n            {newsList}\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <>\n        </>\n      )      \n    }\n  }\n}\n","import React, { Component } from 'react'\nimport { placeOrder } from '../services/order';\n\nexport default class OrderDetails extends Component {\n \n\n  state = {\n    limit: undefined,\n    number: undefined,\n    message: ''\n  }\n\n\n  handleFormInput = event => {\n    const name = event.target.name;\n    let value = Number(event.target.value);\n    this.setState((state, props) => ({\n      [name]: value,\n    }))\n  };\n\n  handleOrder = event => {\n    event.preventDefault();\n    const { limit, number } = this.state;\n    console.log(\"An order is placed!\")\n    console.log(limit, number, this.props.orderType);\n    placeOrder(limit, number, this.props.orderType, this.props.user._id, this.props.ticker).then(response => {\n      const message = response.message\n      this.setState({\n        message: message,\n        limit: '',\n        number: ''\n      })\n    }).catch(err => {\n      console.log(err);\n    });\n    //   .then(user => {\n    //     if (user.message) {\n    //       this.setState({\n    //         message: user.message,\n    //         username: '',\n    //         password: ''\n    //       })\n    //     } else {\n    //       console.log(user)\n    //       this.props.setUser(user);\n    //       this.props.history.push('/');\n    //     }\n    //   })    \n  }\n\n  closeMenue = event => {\n    this.props.callback();\n  }\n\n  render() {\n    // if(this.props.flag) {\n      \n      if(this.props.flag) {\n      return (\n        // <div style={{width: '23vw'}} className=\"ml-5 mt-3 border p-3 border-primary shadow p-3 mb-5 bg-body rounded\">\n        <div style={{width: '25vw'}} className=\"ml-5 mr-5 mt-3 border p-3 border-white shadow mb-5 bg-body rounded\">\n          <div className=\"d-flex flex-row justify-content-between align-items-start\">\n            \n            <h3 style={{color: 'white'}}className=\"mt-3 mb-4\">Place an order</h3>\n            <button type=\"button\" onClick={this.closeMenue} style={{backgroundColor: \"#434756\"}}className=\"btn-close \" aria-label=\"Close\">X</button>\n          </div>         \n          <form onSubmit={this.handleOrder} style={{color: 'white', width:'100%', marginBottom: '50px'}}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"limit\">Limit</label>\n                        <input className=\"form-control\" style={{width:'90%', height: '25px', marginBottom: '20px'}}\n                        type=\"number\"\n                        step=\"0.01\"\n                        name=\"limit\"\n                        id=\"limit\"\n                        placeholder=\"Limit ($)\"\n                        value={this.state.limit}\n                        min=\"0\"\n                        onChange={this.handleFormInput}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"number\">Number</label>\n                        <input className=\"form-control\" style={{width:'90%', height: '25px', marginBottom: '20px'}}\n                        type=\"number\"\n                        name=\"number\"\n                        id=\"number\"\n                        placeholder=\"Number\"\n                        value={this.state.number}\n                        min=\"0\"\n                        onChange={this.handleFormInput}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"amount\">Amount</label>\n                        <input className=\"form-control\" style={{width:'90%', height: '25px', marginBottom: '20px'}}\n                        type=\"number\"\n                        name=\"amount\"\n                        id=\"amount\"\n                        placeholder=\"Amount ($)\"\n                        value={ (this.state.limit * this.state.number).toFixed(2) || 0} \n                        disabled/>\n                    </div>\n                    <div className=\"d-flex flex-row justify-content-center\">\n                      <button style={{backgroundColor: 'lightgray'}} type=\"submit\" className=\"btn btn-light mt-3\">Place order</button>\n                    </div>\n                    {this.state.message && (<h5 className=\"mt-4\">{this.state.message}</h5>)}                                                                               \n                </form>\n        </div>\n      )  \n    } else {\n      return (\n        <>\n        </>\n      )\n    }\n  }\n}\n","import React, { Component } from 'react'\n\n\nexport default class StockInfo extends Component {\n\n  /* Reused from https://stackoverflow.com/a/55987576 */\n  formatCash(n) {\n    if (n < 1e3) return n;\n    if (n >= 1e3 && n < 1e6) return +(n / 1e3).toFixed(1) + \"K\";\n    if (n >= 1e6 && n < 1e9) return +(n / 1e6).toFixed(1) + \"M\";\n    if (n >= 1e9 && n < 1e12) return +(n / 1e9).toFixed(1) + \"B\";\n    if (n >= 1e12) return +(n / 1e12).toFixed(1) + \"T\";\n  }\n\n  render() {\n      let adjustedMarketCap = this.formatCash(this.props.marketCap)\n      return (\n        <div style={{width: \"50vw\", color: 'white'}} className=\"ml-5\">\n            <h3 className=\"mt-5 mb-3\">Summary</h3>\n            <div className=\"d-flex flex-row justify-content-between align-items-stretch mt-4\">\n                <div style={{height: '18vh' }} className=\"d-flex flex-column justify-content-between align-items-start\">\n                  <p><strong>Previous Close:</strong><span style={{marginLeft: '20px'}}>{this.props.previousClose}</span></p>\n                  <p><strong>52 Week Low:</strong><span style={{marginLeft: '33px'}}>{this.props.week52Low}</span></p>\n                  <p><strong>PE Ratio (TTM):</strong><span style={{marginLeft: '20px'}}>{this.props.peRatio}</span></p>\n                </div>\n                <div style={{height: '18vh' }} className=\"d-flex flex-column justify-content-between align-items-start\">\n                  <p><strong>Market Cap:</strong><span style={{marginLeft: '33px'}}>{adjustedMarketCap}</span></p>\n                  <p><strong>52 Week High:</strong><span style={{marginLeft: '20px'}}>{this.props.week52High}</span></p>\n                  <p><strong>YtD Change:</strong><span style={{marginLeft: '33px'}}>{this.props.ytdChange} %</span></p>\n                </div>\n            </div>\n\n        </div>\n      )  \n  }\n}\n","import React, { Component } from 'react'\nimport axios from 'axios';\nimport Chart from \"chart.js\";\nimport News from \"./News\"\nimport OrderDetails from \"./OrderDetails\"\nimport StockInfo from \"./StockInfo\"\n\nexport default class StockDetails extends Component {\n\n  chartRef = React.createRef();\n\n  state = {\n    ticker: this.props.match.params.ticker,\n    myChartRef: undefined,\n    myChart: undefined,\n    companyName: undefined,\n    latestPrice: undefined,\n    change: undefined,\n    changePercent: undefined,\n    latestTime: undefined,\n    marketCap: undefined,\n    peRatio: undefined,\n    avgTotalVolume: undefined,\n    ytdChange: undefined,\n    previousClose: undefined,\n    week52High: undefined,\n    week52Low: undefined,\n    labels: [],\n    data: [],\n    chartRange: 'ytd',\n    // lastPrice: undefined, //this is last trade use https://finnhub.io/api/v1/quote?symbol=SPCE&token= for closing price\n    // socket: new WebSocket(`wss://ws.finnhub.io?token=${process.env.REACT_APP_FINNHUB_KEY}`),\n    displayOrderComponent: false,\n    orderType: undefined\n  }\n\n  componentDidMount() {\n\n    // this.state.myChartRef = this.chartRef.current.getContext(\"2d\");\n    this.setState({\n      myChartRef: this.chartRef.current.getContext(\"2d\")\n    })\n    \n    axios.get(`https://${process.env.REACT_APP_URL_KEY}.iexapis.com/stable/stock/${this.state.ticker}/quote?displayPercent=true&token=${process.env.REACT_APP_IEXTEST_KEY}`).then(response => {\n      const data = response.data;\n      this.setState({\n        companyName: data.companyName,\n        latestPrice: data.latestPrice.toFixed(2),\n        change: data.change.toFixed(2),\n        changePercent: data.changePercent.toFixed(2),\n        latestTime: data.latestTime,\n        marketCap: data.marketCap,\n        peRatio: data.peRatio,\n        avgTotalVolume: data.avgTotalVolume,\n        ytdChange: data.ytdChange.toFixed(2),\n        previousClose: data.previousClose,\n        week52High: data.week52High,\n        week52Low: data.week52Low,\n      });\n    }).catch(err => {\n        console.log(err)\n    })\n\n    this.chartUpdate();\n\n    // this.state.socket.onopen = () => {\n    //   this.state.socket.send(JSON.stringify({'type':'subscribe', 'symbol': `${this.state.ticker}`}));\n    // };\n\n    // this.state.socket.onmessage = event => {\n    //     if(JSON.parse(event.data)['data'] !== undefined) {\n    //       JSON.parse(event.data)['data'].map(element => {\n    //         let price = element.p;\n    //         this.setState({\n    //           lastPrice: price.toFixed(2),\n    //         });\n    //       });  \n    //   }\n    // };\n }\n\n  chartUpdate() {\n      axios.get(`https://${process.env.REACT_APP_URL_KEY}.iexapis.com/stable/stock/${this.state.ticker}/batch?token=${process.env.REACT_APP_IEXTEST_KEY}&types=chart,quote&range=${this.state.chartRange}`).then(response => {\n        let dates = response.data.chart.map(element => {\n          return element.date;\n        })\n        let prices = response.data.chart.map(element => {\n          return element.close;\n        })\n        this.setState({\n          data: prices, /* The axis should depend on 52-week high */\n          labels: dates, \n        }, () => {\n          const { data, labels } = this.state;\n          const maxYValue = Math.max(...data);\n          if(this.state.myChart) {this.state.myChart.destroy()}; /* Destroy previous chart if it exists */\n          \n          this.state.myChart = new Chart(this.state.myChartRef, {\n            type: \"line\",\n            data: {\n                labels: labels,\n                datasets: [\n                    {\n                        label: \"\",\n                        backgroundColor: 'grey', //'rgb(173,216,230)',\n                        borderColor: 'rgb(230,230,250)',\n                        data: data\n                    }\n                ]\n            },\n            options: {\n                hover: {\n                  mode: \"index\",\n                  intersect: false,\n                },\n                legend: {\n                  display: false,\n                  labels: {\n                    fontColor: 'white'\n                  }\n                },\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                  xAxes: [{\n                      display: false,\n                      ticks: {\n                          display: false\n                      }\n                  }],\n                  yAxes: [{\n                    ticks: {\n                     suggestedMax: maxYValue+(0.1*maxYValue),\n                     fontColor: \"white\",\n                     },\n                     gridLines: {\n                       color: 'white'\n                     }\n                   }]\n              }\n            }\n          });\n\n        })\n      }).catch(err => {\n        console.log(err)\n      })\n  }\n\n  // componentWillUnmount() {\n  //   let symbol = this.state.symbol;\n  //   this.state.socket.send(JSON.stringify({'type':'unsubscribe','symbol': symbol}));\n  // }\n\n  handleChartChange = event => {\n    const range = event.target.name;\n    this.setState({\n      chartRange: range\n    }, () => {\n      this.chartUpdate() \n    });\n  }\n\n  handleOrder = event => {\n    const orderType = event.target.name;\n    this.setState({\n      displayOrderComponent: true,\n      orderType: orderType\n    })\n  }\n\n  handleClose = event => {\n    this.setState({\n      displayOrderComponent: false\n    })\n  }\n\n\n  render() {\n    let absoluteChange = Math.abs(this.state.change);\n    return (\n       <div style={{height: '100vh', backgroundColor: '#434756'}}>\n          <div className=\"d-flex flex-row\">\n              <div>\n                  <div className=\"d-flex flex-row mt-3\" >\n                    <div className=\"ml-5\">\n                      <h3 style={{marginBottom: '0px', paddingTop: '15px', color: 'white'}}>{this.state.ticker}</h3>\n                      <p style={{color:'grey', paddingLeft: \"4px\", marginBottom: '0px'}}>{this.state.companyName}</p>\n                    </div>\n                    <div style={{width: '32vw', height: '10vh'}} className=\"d-flex flex-row justify-content-between align-items-center ml-5\">\n                      <h1 style={{color: 'white'}}>${this.state.latestPrice}</h1>\n                      {/* <h1>${this.state.lastPrice}</h1> */}\n                      <div className=\"d-flex flex-row\" style={{width: '21vw'}}>\n                        {/* <h4 style={(this.state.change < 0)? {color: '#ff0000', marginRight: '5px'}: {color: '#00ff00', marginRight: '5px'}}>{this.state.change}</h4> */}\n                        <h4 style={(this.state.change < 0)? {color: '#ff0000', marginRight: '5px'}: {color: '#00ff00', marginRight: '5px'}}>{this.state.change > 0? '+': '-'}{absoluteChange}</h4>\n                        <h4 style={(this.state.changePercent < 0)? {color: '#ff0000'}: {color: '#00ff00'}} >({this.state.changePercent}%)</h4>\n                      </div>\n                    </div>\n                    \n                  </div>\n                  <div style={{width: \"70vw\"}} className=\"ml-1\">\n                    <div className=\"d-flex justify-content-end\">\n                      <div style={{width: \"15vw\"}} className=\"btn-group me-2 mb-1\" role=\"group\" aria-label=\"Second group\">\n                          <button onClick={this.handleChartChange} name=\"1d\" type=\"button\" className=\"btn btn-secondary\">1D</button>\n                          <button onClick={this.handleChartChange} name=\"1m\" type=\"button\" className=\"btn btn-secondary\">1M</button>\n                          <button onClick={this.handleChartChange} name=\"ytd\" type=\"button\" className=\"btn btn-secondary\">YTD</button>\n                          <button onClick={this.handleChartChange} name=\"1y\" type=\"button\" className=\"btn btn-secondary\">1Y</button>\n                      </div>\n                    </div>\n                    <div >\n                          <canvas style={{width: \"70vw\", height: \"40vh\"}} id=\"myChart\" ref={this.chartRef}/>\n                    </div>\n                    <StockInfo \n                        previousClose={this.state.previousClose}\n                        marketCap={this.state.marketCap}\n                        peRatio={this.state.peRatio}\n                        week52High={this.state.week52High}\n                        week52Low={this.state.week52Low}\n                        ytdChange = {this.state.ytdChange}/>\n                  </div>\n              </div>\n              <div style={{width: \"28vw\"}} className=\"mt-4 d-flex flex-column justify-content-start align-items-center\">\n                <div>\n                  <button onClick={this.handleOrder} style={{width: \"8vw\", backgroundColor: '#3bb300', color: 'white'}} name=\"buy\" type=\"button\" className=\"btn btn-success btn-lg mr-2\">Buy</button>\n                  <button onClick={this.handleOrder} style={{width: \"8vw\", backgroundColor: '#e60000', color: 'white'}} name=\"sell\" type=\"button\" className=\"btn btn-danger btn-lg\"><strong>Sell</strong> </button>\n                </div>\n                <OrderDetails flag={this.state.displayOrderComponent} orderType={this.state.orderType} user={this.props.user} ticker={this.state.ticker} callback={this.handleClose}/>\n                <News ticker={this.state.ticker} flag={!this.state.displayOrderComponent}/>\n              </div>\n          </div>        \n        </div>\n    )\n  }\n}\n","import React from 'react';\nimport './App.css';\nimport Navbar from './Components/Navbar';\nimport Home from './Components/Home';\nimport Signup from './Components/Signup';\nimport Login from './Components/Login';\nimport StockDetails from './Components/StockDetails';\nimport { Route, Switch} from 'react-router-dom';\n\nexport default class App extends React.Component {\n\n  state = {\n    user: this.props.user\n  }\n\n  setUser = user => {\n    this.setState({\n      user: user\n    })\n  }\n\n  render() {\n    return (\n      <div style={{minHeight: '100%'}}>\n        <Navbar user={this.state.user} setUser={this.setUser} />\n        <Switch>\n          <Route exact path='/' render={props => <Home user={this.state.user} {...props} />} />\n          <Route exact path='/signup' render={props => <Signup setUser={this.setUser} {...props} />} />\n          <Route exact path='/login' render={props => <Login setUser={this.setUser} {...props} />} />\n          <Route exact path='/symbols/:ticker' render={props => <StockDetails user={this.state.user} {...props} />} />\n        </Switch>\n      </div>\n    )\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\n\n\naxios.get('/api/auth/loggedin')\n  .then(response => {\n    const user = response.data;\n    ReactDOM.render(\n      <BrowserRouter>\n        <App user={user}/>\n      </BrowserRouter>,\n      document.getElementById('root')\n    )\n  }).catch(err => {\n    console.log(\"Error while checking for loggedin user: \", err);\n  })\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}