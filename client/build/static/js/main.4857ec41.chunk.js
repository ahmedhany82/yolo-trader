(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,s){},39:function(e,t,s){},70:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),c=s(31),r=s.n(c),o=(s(38),s(17)),i=s(3),l=s(4),h=s(6),d=s(5),u=(s(39),s(10)),j=s(2),b=s.n(j),m=function(e,t){return console.log("signup in client was called"),b.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return console.log("error on signup",e),e.response.data}))},p=function(e,t){return console.log("login was called"),b.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return console.log("response: ",e.data),e.data})).catch((function(e){return console.log(e),e.response.data}))},f=s(0),x=function(e){b.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};function g(e){return Object(f.jsx)("nav",{children:e.user?Object(f.jsx)("div",{className:"navbar navbar-light",style:{backgroundColor:"#9b9fb0"},children:Object(f.jsxs)("div",{style:{width:"100%"},className:"nav-item d-flex flex-row justify-content-between",children:[Object(f.jsx)(u.b,{className:"navbar-text",style:{color:"white",textDecoration:"none"},to:"/",children:"Home"}),Object(f.jsx)("span",{className:"navbar-brand h1",style:{height:"1vh",color:"white"},children:"Yolo Trader"}),Object(f.jsx)(u.b,{className:"navbar-text",style:{color:"white",textDecoration:"none"},to:"/",onClick:function(){return x(e)},children:"Logout"})]})}):Object(f.jsx)(f.Fragment,{})})}function v(e){var t=e.tickers?e.tickers.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(u.b,{to:"/symbols/".concat(e["1. symbol"]),children:Object(f.jsx)("p",{style:{color:"white"},children:e["1. symbol"]})}),Object(f.jsx)("p",{style:{color:"grey"},children:e["2. name"]})]},t)})):[];return Object(f.jsx)("div",{className:"ml-4 border border-5",style:{position:"absolute",zIndex:"2",backgroundColor:"#434756"},children:e.tickers&&0!==e.tickers.length?Object(f.jsx)(f.Fragment,{children:t}):Object(f.jsx)(f.Fragment,{})})}var O=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={query:"",tickers:[]},e.handleSearch=function(t){var s=t.target.value;e.setState({query:s}),b.a.get("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(s,"&apikey=").concat("6LPZ4I5S75S862T5")).then((function(t){e.setState({tickers:t.data.bestMatches})})).catch((function(e){console.log(e)}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)("form",{style:{width:"100%",marginBottom:"50px"},autoComplete:"off",children:Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"ml-3",htmlFor:"search"}),Object(f.jsx)("input",{className:"form-control",style:{width:"90%",height:"25px",marginLeft:"20px",backgroundColor:"lightgrey"},type:"text",name:"search",id:"search",value:this.state.query,placeholder:"Search by Symbol",onChange:this.handleSearch}),Object(f.jsx)(v,{tickers:this.state.tickers})]})})})}}]),s}(a.a.Component),y=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"formatCash",value:function(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0}},{key:"render",value:function(){var e=this,t=this.props.portfolio&&0!==this.props.portfolio.length?this.props.portfolio.map((function(t,s){var n=(t.count*e.props.symbolsPrice[t.ticker]).toFixed(2),a=e.formatCash(n),c=(n-t.count*t.averagePrice).toFixed(2),r=Math.abs(c),o=((n-t.count*t.averagePrice)/(t.count*t.averagePrice)*100).toFixed(2);return Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"row",children:Object(f.jsx)(u.b,{to:"/symbols/".concat(t.ticker),children:Object(f.jsx)("p",{style:{color:"white"},className:"fw-bolder",children:t.ticker})})}),Object(f.jsx)("td",{style:{color:"white"},children:t.count}),Object(f.jsx)("td",{style:{color:"white"},children:e.props.symbolsPrice[t.ticker]}),Object(f.jsx)("td",{style:{color:"white"},children:a}),Object(f.jsx)("td",{style:o<0?{color:"#ff0000"}:{color:"#00ff00"},children:Object(f.jsxs)("strong",{children:[o,"%"]})}),Object(f.jsx)("td",{style:c<0?{color:"#ff0000"}:{color:"#00ff00"},children:Object(f.jsxs)("strong",{children:[c>0?"+":"-",r]})})]},s)})):[];return Object(f.jsxs)("div",{style:{width:"45vw",height:"auto"},className:"ml-3 border p-3 border-white shadow p-3 mb-5 bg-body rounded",children:[Object(f.jsx)("h4",{className:"ml-3 mb-3",style:{width:"40vw",position:"relative",zIndex:"1"},children:"Portfolio"}),Object(f.jsxs)("table",{style:{width:"40vw",position:"relative",textAlign:"center"},className:"table table-hover table-sm ml-3 ",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{style:{color:"white"},children:[Object(f.jsx)("th",{scope:"col",children:"Symbol"}),Object(f.jsx)("th",{scope:"col",children:"Position"}),Object(f.jsx)("th",{scope:"col",children:"Last Price"}),Object(f.jsx)("th",{scope:"col",children:"Market Value($)"}),Object(f.jsx)("th",{scope:"col",children:"Gain/Loss %"}),Object(f.jsx)("th",{scope:"col",children:"Total Change"})]})}),Object(f.jsx)("tbody",{children:t})]})]})}}]),s}(n.Component),w=s(18),k=s.n(w),N=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).chartRef=a.a.createRef(),e.state={myChartRef:void 0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setState({myChartRef:this.chartRef.current.getContext("2d")})}},{key:"render",value:function(){var e=this;if(this.state.myChartRef&&this.props.symbolsPrice&&0!==this.props.portfolio.length){var t=Object.keys(this.props.symbolsPrice),s=this.props.portfolio.map((function(t){return t.count*e.props.symbolsPrice[t.ticker]})),n=s.reduce((function(e,t){return e+t}),0),a=s.map((function(e){return(e/n*100).toFixed(2)})),c=this.props.portfolio.map((function(e){return"rgb("+Math.floor(200*Math.random())+", "+Math.floor(200*Math.random())+", "+Math.floor(200*Math.random())+")"}));console.log(c),this.state.myChart=new k.a(this.state.myChartRef,{type:"doughnut",data:{datasets:[{data:a,backgroundColor:c}],labels:t},options:{responsive:!0,maintainAspectRatio:!0,legend:{labels:{fontColor:"white",fontSize:18}}}})}return Object(f.jsxs)("div",{style:{width:"45vw",height:"auto"},className:"ml-3 mr-4 border p-3 border-white shadow p-3 mb-5 bg-body rounded",children:[Object(f.jsx)("h4",{className:"mb-3",children:"Portfolio Distribution %"}),Object(f.jsx)("div",{children:Object(f.jsx)("canvas",{style:{width:"40vw",height:"23vh"},id:"myChart",ref:this.chartRef})})]})}}]),s}(n.Component),C=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={mostactive:[]},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://".concat("cloud",".iexapis.com/stable/stock/market/list/iexvolume?listLimit=3&token=").concat("pk_476aa872c5f94e4e847ad136d6ebc2a8")).then((function(t){e.setState({mostactive:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){if(0===this.state.mostactive.length)return Object(f.jsx)("div",{style:{height:"35vh"},className:"d-flex justify-content-center align-items-center",children:Object(f.jsx)("div",{className:"spinner-border text-info",role:"status",children:Object(f.jsx)("span",{className:"sr-only",children:"Loading..."})})});var e=this.state.mostactive.map((function(e,t){return Object(f.jsxs)("div",{className:"d-flex flex-row justify-content-between alig-self-start ml-3 mr-3 pl-3 pr-3 pb-0 pt-0",children:[Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-self-center",children:[Object(f.jsx)("p",{style:{color:"white"},className:"mb-0",children:Object(f.jsx)("strong",{children:e.symbol})}),Object(f.jsx)("p",{style:{color:"grey"},children:e.companyName})]}),Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-self-center",children:[Object(f.jsxs)("p",{className:"mb-0",children:["$",null!=e.latestPrice?e.latestPrice.toFixed(2):" N/A"]}),Object(f.jsx)("p",{style:e.changePercent>0?{color:"#00ff00"}:{color:"#ff0000"},children:Object(f.jsxs)("strong",{children:[null!=e.changePercent?e.changePercent>0?"+":"-":"",null!==e.changePercent?Math.abs(e.changePercent.toFixed(2)):"NA ","%"]})})]})]},t)}));return Object(f.jsxs)("div",{style:{width:"45vw",height:"35vh"},className:"ml-3 border p-3 border-white shadow p-3 mb-5 bg-body rounded",children:[Object(f.jsx)("h4",{style:{color:"white"},className:"ml-3 mb-4",children:"Most Active"}),Object(f.jsx)("div",{className:"mb-0 pt-0 pb-0",children:e})]})}}]),s}(n.Component),P=function(e,t,s,n,a){return"buy"===s?b.a.get("/api/".concat(n,"/balance")).then((function(s){var c=s.data;if(c<e*t)return JSON.parse('{"message": "Order exceeds balance"}');var r=c-e*t;return b.a.post("/api/".concat(n,"/balance"),{balance:r}).then((function(s){return b.a.get("/api/".concat(n,"/position/").concat(a)).then((function(s){if(0===s.data.length)return b.a.post("/api/".concat(n,"/position/open/").concat(a),{count:t,averagePrice:e}).then((function(e){return e.data}));console.log(s.data[0].count);var c=(s.data[0].count*s.data[0].averagePrice+e*t)/(s.data[0].count+t),r=s.data[0].count+t;return b.a.post("/api/".concat(n,"/position/update/").concat(a),{count:r,averagePrice:c}).then((function(e){return e.data}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})):b.a.get("/api/".concat(n,"/position/").concat(a)).then((function(s){return 0===s.data.length?JSON.parse('{"message": "No open positions in this stock."}'):s.data[0].count<t?JSON.parse('{"message": "Your current position is not enough for this order."}'):b.a.get("/api/".concat(n,"/balance")).then((function(c){var r=c.data;if(s.data[0].count===t){var o=r+e*t;return b.a.post("/api/".concat(n,"/balance"),{balance:o}).then((function(e){return b.a.post("/api/".concat(n,"/position/close/").concat(a)).then((function(e){return e.data})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}var i=s.data[0].count-t;console.log(r);var l=r+e*t;return b.a.post("/api/".concat(n,"/balance"),{balance:l}).then((function(e){return b.a.post("/api/".concat(n,"/position/update/").concat(a),{count:i,averagePrice:s.data[0].averagePrice}).then((function(e){return e.data})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},S=function(e){return b.a.get("/api/".concat(e,"/portfolio")).then((function(e){return e.data})).catch((function(e){console.log(e)}))},F=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={news:[]},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.user&&S(this.props.user._id).then((function(t){var s=t.map((function(e){return e.ticker}));if(0!==s.length){var n=s[Math.floor(Math.random()*s.length)];b.a.get("https://finnhub.io/api/v1/company-news?symbol=".concat(n,"&from=2021-03-08&to=2021-03-09&token=").concat("c0uhttn48v6r6g5764c0"),{json:!0}).then((function(t){e.setState({news:t.data.slice(0,2)})})).catch((function(e){console.log("Error while fetching the news from API",e)}))}else b.a.get("https://finnhub.io/api/v1/news?category=general&token=".concat("c0uhttn48v6r6g5764c0"),{json:!0}).then((function(t){e.setState({news:t.data.slice(0,2)})})).catch((function(e){console.log("Error while fetching the news from API",e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){if(0===this.state.news.length)return Object(f.jsx)("div",{style:{height:"35vh"},className:"d-flex justify-content-center align-items-center",children:Object(f.jsx)("div",{className:"spinner-border text-info",role:"status",children:Object(f.jsx)("span",{className:"sr-only",children:"Loading..."})})});var e=this.state.news.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{style:{Width:"30vw"},className:"d-flex flex-row justify-content-start",children:[Object(f.jsx)("img",{style:{height:"8vh",width:"8vw"},className:" mr-2",src:e.image,alt:""}),Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-center align-self-center",children:[Object(f.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:Object(f.jsx)("h5",{style:{color:"lightblue"},children:e.headline})}),Object(f.jsx)("span",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",width:"29vw",height:"8vh",display:"block",overflow:"hidden"},children:e.summary})]})]})},t)}));return Object(f.jsxs)("div",{style:{width:"45vw",height:"35vh"},className:"ml-3 border p-3 border-white shadow p-3 mb-5 bg-body rounded",children:[Object(f.jsx)("h4",{className:"mb-3",children:"Portfolio News"}),Object(f.jsx)("div",{children:e})]})}}]),s}(n.Component),M=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={portfolio:[],symbolsPrice:{},balance:0},e}return Object(l.a)(s,[{key:"formatCash",value:function(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0}},{key:"componentDidMount",value:function(){var e,t=this;this.props.user&&(S(this.props.user._id).then((function(e){var s=e.map((function(e){return e.ticker}));b.a.get("https://".concat("cloud",".iexapis.com/stable/stock/market/batch?symbols=").concat(s.join(","),"&types=quote&filter=latestPrice&token=").concat("pk_476aa872c5f94e4e847ad136d6ebc2a8")).then((function(e){var s={};for(var n in e.data)s[n]=e.data[n].quote.latestPrice.toFixed(2);t.setState({symbolsPrice:s})})).catch((function(e){console.log(e)})),t.setState({portfolio:e})})).catch((function(e){console.log(e)})),(e=this.props.user._id,b.a.get("/api/".concat(e,"/balance")).then((function(e){return e.data})).catch((function(e){console.log(e)}))).then((function(e){t.setState({balance:e})})).catch((function(e){console.log(e)})))}},{key:"render",value:function(){var e=this.formatCash(this.state.balance);return Object(f.jsx)("div",{className:"container-fluid pl-0 pr-0",style:{backgroundColor:"#434756"},children:this.props.user?Object(f.jsxs)("div",{style:{backgroundColor:"#434756",color:"white"},children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center ml-1 mr-2",children:[Object(f.jsxs)("h3",{className:"ml-3 mt-3",children:["Welcome ",this.props.user.username]}),Object(f.jsxs)("h4",{className:"mr-3 mt-3",children:["Balance: $",e]})]}),Object(f.jsx)(O,{user:this.props.user})]})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)(y,{user:this.props.user,portfolio:this.state.portfolio,symbolsPrice:this.state.symbolsPrice})}),Object(f.jsx)("div",{className:"col d-flex flex-row justify-content-start align-items-stretch",children:Object(f.jsx)(N,{user:this.props.user,portfolio:this.state.portfolio,symbolsPrice:this.state.symbolsPrice})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)(C,{})}),Object(f.jsx)("div",{className:"col",children:Object(f.jsx)(F,{user:this.props.user})})]})]}):Object(f.jsxs)("div",{style:{height:"100%",backgroundColor:"#434756"},className:"d-flex flex-row justify-content-between align-items-center",children:[Object(f.jsx)("div",{style:{height:"35vh",width:"50vw"},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{style:{height:"100%",width:"40vw"},className:"d-flex flex-column justify-content-around",children:[Object(f.jsxs)("div",{style:{color:"white"},children:[Object(f.jsx)("h1",{className:"display-4 fw-bolder",children:"YOLO Trader"}),Object(f.jsx)("h3",{className:"fw-bolder mb-5 ml-2",children:"You Only Live Once! If rich, once is enough."})]}),Object(f.jsxs)("div",{style:{width:"20vw",listStyleType:"none"},className:"d-flex flex-row justify-content-between align-items-center",children:[Object(f.jsx)("button",{className:"btn btn-light mt-3 ml-2",style:{backgroundColor:"#9b9fb0",width:"8vw",height:"5vh"},children:Object(f.jsx)(u.b,{to:"/signup",children:Object(f.jsx)("strong",{style:{color:"white"},children:"Signup"})})}),Object(f.jsx)("button",{className:"btn btn-light mt-3 ml-2",style:{backgroundColor:"#9b9fb0",width:"8vw",height:"5vh"},children:Object(f.jsx)(u.b,{to:"/login",children:Object(f.jsx)("strong",{style:{color:"white"},children:"Login"})})})]})]})}),Object(f.jsx)("div",{style:{height:"100vh",width:"50vw",backgroundColor:"#9b9fb0"},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsx)("div",{className:"text-center",children:Object(f.jsx)("img",{className:"mx-auto",style:{height:"80vh",width:"40vw"},src:"https://images.unsplash.com/photo-1612010167102-d1e8f83833e1?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",class:"img-fluid",alt:"..."})})})]})})}}]),s}(n.Component),L=s(14),R=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(L.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password;m(n,a).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(f.jsx)("div",{style:{backgroundColor:"#434756",height:"100vh"},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{style:{height:"42vh",weight:"30vw"},className:"d-flex flex-column justify-content-between",children:[Object(f.jsx)("h2",{style:{color:"white"},children:"Signup"}),Object(f.jsx)("form",{onSubmit:this.handleSubmit,style:{height:"80%"},children:Object(f.jsxs)("div",{style:{height:"100%"},className:"form-group d-flex flex-column justify-content-around",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("label",{className:"form-label",htmlFor:"username",children:[Object(f.jsx)("span",{style:{color:"white"},children:"Username:"})," "]}),Object(f.jsx)("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"password",children:Object(f.jsx)("span",{style:{color:"white"},children:"Password:"})}),Object(f.jsx)("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"btn btn-light mt-4 mb-3",type:"submit",children:"Sign Up"}),this.state.message&&Object(f.jsx)("h4",{style:{color:"white"},children:this.state.message})]})]})})]})})}}]),s}(n.Component),A=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(L.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password;p(n,a).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(f.jsx)("div",{style:{backgroundColor:"#434756",height:"100vh"},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{style:{height:"42vh",weight:"30vw"},className:"d-flex flex-column justify-content-between",children:[Object(f.jsx)("h2",{style:{color:"white"},children:"Login"}),Object(f.jsx)("form",{onSubmit:this.handleSubmit,style:{height:"80%"},children:Object(f.jsxs)("div",{style:{height:"100%"},className:"form-group d-flex flex-column justify-content-around",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("label",{className:"form-label",htmlFor:"username",children:[Object(f.jsx)("span",{style:{color:"white"},children:"Username:"})," "]}),Object(f.jsx)("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"password",children:Object(f.jsx)("span",{style:{color:"white"},children:"Password:"})}),Object(f.jsx)("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"btn btn-light mt-4 mb-3",type:"submit",children:"Log in"}),this.state.message&&Object(f.jsx)("h4",{style:{color:"white"},children:this.state.message})]})]})})]})})}}]),s}(n.Component),T=s(33),D=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={news:[]},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.ticker;b.a.get("https://finnhub.io/api/v1/company-news?symbol=".concat(t,"&from=2021-03-08&to=2021-03-09&token=").concat("c0uhttn48v6r6g5764c0"),{json:!0}).then((function(t){e.setState({news:t.data.slice(0,3)})})).catch((function(e){console.log("Error while fetching the news from API",e)}))}},{key:"render",value:function(){if(this.props.flag){if(0===this.state.news.length)return Object(f.jsx)("div",{style:{height:"30vh"},className:"d-flex justify-content-center align-items-center",children:Object(f.jsx)("div",{className:"spinner-border text-info",role:"status",children:Object(f.jsx)("span",{className:"sr-only",children:"Loading..."})})});var e=this.state.news.map((function(e,t){return Object(f.jsx)("div",{className:"mt-3 mb-3",children:Object(f.jsxs)("div",{style:{width:"28vw",color:"white"},className:"d-flex flex-row justify-content-start",children:[Object(f.jsx)("img",{style:{height:"8vh",width:"8vw"},className:"ml-5 mr-2",src:e.image,alt:""}),Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-center align-self-center",children:[Object(f.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:Object(f.jsx)("h5",{style:{color:"lightblue"},children:e.headline})}),Object(f.jsx)("span",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",width:"15vw",height:"8vh",display:"block",overflow:"hidden"},children:e.summary})]})]})},t)}));return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{style:{color:"white"},className:"ml-5 mt-3",children:"News"}),Object(f.jsx)("div",{children:e})]})}return Object(f.jsx)(f.Fragment,{})}}]),s}(n.Component),B=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={limit:void 0,number:void 0,message:""},e.handleFormInput=function(t){var s=t.target.name,n=Number(t.target.value);e.setState((function(e,t){return Object(L.a)({},s,n)}))},e.handleOrder=function(t){t.preventDefault();var s=e.state,n=s.limit,a=s.number;console.log("An order is placed!"),console.log(n,a,e.props.orderType),P(n,a,e.props.orderType,e.props.user._id,e.props.ticker).then((function(t){var s=t.message;e.setState({message:s,limit:"",number:""})})).catch((function(e){console.log(e)}))},e.closeMenue=function(t){e.props.callback()},e}return Object(l.a)(s,[{key:"render",value:function(){return this.props.flag?Object(f.jsxs)("div",{style:{width:"25vw"},className:"ml-5 mr-5 mt-3 border p-3 border-white shadow mb-5 bg-body rounded",children:[Object(f.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-start",children:[Object(f.jsx)("h3",{style:{color:"white"},className:"mt-3 mb-4",children:"Place an order"}),Object(f.jsx)("button",{type:"button",onClick:this.closeMenue,style:{backgroundColor:"#434756"},className:"btn-close ","aria-label":"Close",children:"X"})]}),Object(f.jsxs)("form",{onSubmit:this.handleOrder,style:{color:"white",width:"100%",marginBottom:"50px"},children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"limit",children:"Limit"}),Object(f.jsx)("input",{className:"form-control",style:{width:"90%",height:"25px",marginBottom:"20px"},type:"number",step:"0.01",name:"limit",id:"limit",placeholder:"Limit ($)",value:this.state.limit,min:"0",onChange:this.handleFormInput,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"number",children:"Number"}),Object(f.jsx)("input",{className:"form-control",style:{width:"90%",height:"25px",marginBottom:"20px"},type:"number",name:"number",id:"number",placeholder:"Number",value:this.state.number,min:"0",onChange:this.handleFormInput,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(f.jsx)("input",{className:"form-control",style:{width:"90%",height:"25px",marginBottom:"20px"},type:"number",name:"amount",id:"amount",placeholder:"Amount ($)",value:(this.state.limit*this.state.number).toFixed(2)||0,disabled:!0})]}),Object(f.jsx)("div",{className:"d-flex flex-row justify-content-center",children:Object(f.jsx)("button",{style:{backgroundColor:"lightgray"},type:"submit",className:"btn btn-light mt-3",children:"Place order"})}),this.state.message&&Object(f.jsx)("h5",{className:"mt-4",children:this.state.message})]})]}):Object(f.jsx)(f.Fragment,{})}}]),s}(n.Component),U=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"formatCash",value:function(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0}},{key:"render",value:function(){var e=this.formatCash(this.props.marketCap);return Object(f.jsxs)("div",{style:{width:"50vw",color:"white"},className:"ml-5",children:[Object(f.jsx)("h3",{className:"mt-5 mb-3",children:"Summary"}),Object(f.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-stretch mt-4",children:[Object(f.jsxs)("div",{style:{height:"18vh"},className:"d-flex flex-column justify-content-between align-items-start",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Previous Close:"}),Object(f.jsx)("span",{style:{marginLeft:"20px"},children:this.props.previousClose})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"52 Week Low:"}),Object(f.jsx)("span",{style:{marginLeft:"33px"},children:this.props.week52Low})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"PE Ratio (TTM):"}),Object(f.jsx)("span",{style:{marginLeft:"20px"},children:this.props.peRatio})]})]}),Object(f.jsxs)("div",{style:{height:"18vh"},className:"d-flex flex-column justify-content-between align-items-start",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Market Cap:"}),Object(f.jsx)("span",{style:{marginLeft:"33px"},children:e})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"52 Week High:"}),Object(f.jsx)("span",{style:{marginLeft:"20px"},children:this.props.week52High})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"YtD Change:"}),Object(f.jsxs)("span",{style:{marginLeft:"33px"},children:[this.props.ytdChange," %"]})]})]})]})]})}}]),s}(n.Component),H=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).chartRef=a.a.createRef(),e.state={ticker:e.props.match.params.ticker,myChartRef:void 0,myChart:void 0,companyName:void 0,latestPrice:void 0,change:void 0,changePercent:void 0,latestTime:void 0,marketCap:void 0,peRatio:void 0,avgTotalVolume:void 0,ytdChange:void 0,previousClose:void 0,week52High:void 0,week52Low:void 0,labels:[],data:[],chartRange:"ytd",displayOrderComponent:!1,orderType:void 0},e.handleChartChange=function(t){var s=t.target.name;e.setState({chartRange:s},(function(){e.chartUpdate()}))},e.handleOrder=function(t){var s=t.target.name;e.setState({displayOrderComponent:!0,orderType:s})},e.handleClose=function(t){e.setState({displayOrderComponent:!1})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setState({myChartRef:this.chartRef.current.getContext("2d")}),b.a.get("https://".concat("cloud",".iexapis.com/stable/stock/").concat(this.state.ticker,"/quote?displayPercent=true&token=").concat("pk_476aa872c5f94e4e847ad136d6ebc2a8")).then((function(t){var s=t.data;e.setState({companyName:s.companyName,latestPrice:s.latestPrice.toFixed(2),change:s.change.toFixed(2),changePercent:s.changePercent.toFixed(2),latestTime:s.latestTime,marketCap:s.marketCap,peRatio:s.peRatio,avgTotalVolume:s.avgTotalVolume,ytdChange:s.ytdChange.toFixed(2),previousClose:s.previousClose,week52High:s.week52High,week52Low:s.week52Low})})).catch((function(e){console.log(e)})),this.chartUpdate()}},{key:"chartUpdate",value:function(){var e=this;b.a.get("https://".concat("cloud",".iexapis.com/stable/stock/").concat(this.state.ticker,"/batch?token=").concat("pk_476aa872c5f94e4e847ad136d6ebc2a8","&types=chart,quote&range=").concat(this.state.chartRange)).then((function(t){var s=t.data.chart.map((function(e){return e.date})),n=t.data.chart.map((function(e){return e.close}));e.setState({data:n,labels:s},(function(){var t=e.state,s=t.data,n=t.labels,a=Math.max.apply(Math,Object(T.a)(s));e.state.myChart&&e.state.myChart.destroy(),e.state.myChart=new k.a(e.state.myChartRef,{type:"line",data:{labels:n,datasets:[{label:"",backgroundColor:"grey",borderColor:"rgb(230,230,250)",data:s}]},options:{hover:{mode:"index",intersect:!1},legend:{display:!1,labels:{fontColor:"white"}},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{display:!1,ticks:{display:!1}}],yAxes:[{ticks:{suggestedMax:a+.1*a,fontColor:"white"},gridLines:{color:"white"}}]}}})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=Math.abs(this.state.change);return Object(f.jsx)("div",{style:{height:"100vh",backgroundColor:"#434756"},children:Object(f.jsxs)("div",{className:"d-flex flex-row",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"d-flex flex-row mt-3",children:[Object(f.jsxs)("div",{className:"ml-5",children:[Object(f.jsx)("h3",{style:{marginBottom:"0px",paddingTop:"15px",color:"white"},children:this.state.ticker}),Object(f.jsx)("p",{style:{color:"grey",paddingLeft:"4px",marginBottom:"0px"},children:this.state.companyName})]}),Object(f.jsxs)("div",{style:{width:"32vw",height:"10vh"},className:"d-flex flex-row justify-content-between align-items-center ml-5",children:[Object(f.jsxs)("h1",{style:{color:"white"},children:["$",this.state.latestPrice]}),Object(f.jsxs)("div",{className:"d-flex flex-row",style:{width:"21vw"},children:[Object(f.jsxs)("h4",{style:this.state.change<0?{color:"#ff0000",marginRight:"5px"}:{color:"#00ff00",marginRight:"5px"},children:[this.state.change>0?"+":"-",e]}),Object(f.jsxs)("h4",{style:this.state.changePercent<0?{color:"#ff0000"}:{color:"#00ff00"},children:["(",this.state.changePercent,"%)"]})]})]})]}),Object(f.jsxs)("div",{style:{width:"70vw"},className:"ml-1",children:[Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsxs)("div",{style:{width:"15vw"},className:"btn-group me-2 mb-1",role:"group","aria-label":"Second group",children:[Object(f.jsx)("button",{onClick:this.handleChartChange,name:"1d",type:"button",className:"btn btn-secondary",children:"1D"}),Object(f.jsx)("button",{onClick:this.handleChartChange,name:"1m",type:"button",className:"btn btn-secondary",children:"1M"}),Object(f.jsx)("button",{onClick:this.handleChartChange,name:"ytd",type:"button",className:"btn btn-secondary",children:"YTD"}),Object(f.jsx)("button",{onClick:this.handleChartChange,name:"1y",type:"button",className:"btn btn-secondary",children:"1Y"})]})}),Object(f.jsx)("div",{children:Object(f.jsx)("canvas",{style:{width:"70vw",height:"40vh"},id:"myChart",ref:this.chartRef})}),Object(f.jsx)(U,{previousClose:this.state.previousClose,marketCap:this.state.marketCap,peRatio:this.state.peRatio,week52High:this.state.week52High,week52Low:this.state.week52Low,ytdChange:this.state.ytdChange})]})]}),Object(f.jsxs)("div",{style:{width:"28vw"},className:"mt-4 d-flex flex-column justify-content-start align-items-center",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:this.handleOrder,style:{width:"8vw",backgroundColor:"#3bb300",color:"white"},name:"buy",type:"button",className:"btn btn-success btn-lg mr-2",children:"Buy"}),Object(f.jsxs)("button",{onClick:this.handleOrder,style:{width:"8vw",backgroundColor:"#e60000",color:"white"},name:"sell",type:"button",className:"btn btn-danger btn-lg",children:[Object(f.jsx)("strong",{children:"Sell"})," "]})]}),Object(f.jsx)(B,{flag:this.state.displayOrderComponent,orderType:this.state.orderType,user:this.props.user,ticker:this.state.ticker,callback:this.handleClose}),Object(f.jsx)(D,{ticker:this.state.ticker,flag:!this.state.displayOrderComponent})]})]})})}}]),s}(n.Component),I=s(7),q=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{style:{minHeight:"100%"},children:[Object(f.jsx)(g,{user:this.state.user,setUser:this.setUser}),Object(f.jsxs)(I.c,{children:[Object(f.jsx)(I.a,{exact:!0,path:"/",render:function(t){return Object(f.jsx)(M,Object(o.a)({user:e.state.user},t))}}),Object(f.jsx)(I.a,{exact:!0,path:"/signup",render:function(t){return Object(f.jsx)(R,Object(o.a)({setUser:e.setUser},t))}}),Object(f.jsx)(I.a,{exact:!0,path:"/login",render:function(t){return Object(f.jsx)(A,Object(o.a)({setUser:e.setUser},t))}}),Object(f.jsx)(I.a,{exact:!0,path:"/symbols/:ticker",render:function(t){return Object(f.jsx)(H,Object(o.a)({user:e.state.user},t))}})]})]})}}]),s}(a.a.Component),_=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,71)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};s(69);b.a.get("/api/auth/loggedin").then((function(e){var t=e.data;r.a.render(Object(f.jsx)(u.a,{children:Object(f.jsx)(q,{user:t})}),document.getElementById("root"))})).catch((function(e){console.log("Error while checking for loggedin user: ",e)})),_()}},[[70,1,2]]]);
//# sourceMappingURL=main.4857ec41.chunk.js.map